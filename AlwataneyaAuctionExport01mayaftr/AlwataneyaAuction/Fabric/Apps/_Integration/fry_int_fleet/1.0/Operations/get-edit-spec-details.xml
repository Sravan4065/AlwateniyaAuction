<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<service serviceGroup="" cachable="false" cacheduration="" customOperation="false" description="" endpoint="default" groupType="" id="get-edit-spec-details" passwordencrypted="false" security="authorized_app" type="dataAdapterConnector" smscode="" smsenabled="false">
    <service-config>
        <config-param api-version="" appid="" name="preprocessorname" value=""/>
        <config-param api-version="" appid="" name="postprocessorname" value=""/>
        <config-param api-version="" appid="" name="preprocessorJS" value=""/>
        <config-param api-version="" appid="" name="postprocessorJS" value=""/>
        <config-param api-version="" appid="" name="preprocessorRules" value=""/>
        <config-param api-version="" appid="" name="postprocessorRules" value=""/>
        <config-param api-version="" appid="" name="kony_http_supported_methods" value="GET"/>
        <config-param api-version="" appid="" name="frontend_url" value="api/v1/get-edit-spec-details"/>
        <config-param api-version="" appid="" name="frontend_supported_method" value="GET"/>
        <config-param api-version="" appid="" name="endpointUrl" value=""/>
        <config-param api-version="" appid="" name="opcode" value="service"/>
        <config-param api-version="" appid="" name="sockettimeout" value=""/>
        <config-param api-version="" appid="" name="entitymetadata" value="{&quot;dml&quot;:false,&quot;query&quot;:&quot;SELECT\n    ISNULL(f.object_id, '') AS object_id,\n    ISNULL(f.is_technical, '') AS is_technical,\n    ISNULL(f.is_washed, '') AS is_washed,\n    ISNULL(f.milage, '') AS milage,\n    ISNULL(f.milage_type, '') AS milage_type,\n    ISNULL(f.chassis_number, '') AS chassis_number,\n    ISNULL(f.motor_no, '') AS motor_no,\n    coalesce(f.no_of_keys, 0) AS no_of_keys,\n    ISNULL(f.ownership, '') AS en_ownership_cert,\n    ISNULL(f.en_ownership, '') AS ar_ownership_cert,\n    coalesce(f.category_id, 0) AS category_id,\n    coalesce(f.sub_category_id, 0) AS sub_category_id,\n    coalesce(f.target_selling_price, 0) AS target_selling_price,\n    coalesce(f.location, 0) AS locations,\n    ISNULL(f.country_origin, '') AS country_origin,\n    ISNULL(f.year_of_making, '') AS year_of_making,\n    ISNULL(f.no_of_doors, '') AS no_of_doors,\n    ISNULL(f.no_of_cylinders, '') AS no_of_cylinders,\n    ISNULL(f.colors, '') AS colors,\n    ISNULL(f.transmission_type, '') AS transmission_type,\n    ISNULL(f.fuel, '') AS fuel,\n    ISNULL(f.horse_power, '') AS horse_power,\n    ISNULL(MAX(CASE WHEN mcd.cat_id = 3 THEN fsv.spec_detail_id END), '') AS body_type,\n    ISNULL(MAX(CASE WHEN mcd.cat_id = 23 THEN fsv.spec_detail_id END), '') AS ownership,\n    ISNULL(STRING_AGG(CASE\n        WHEN mcd.cat_id NOT IN (3, 23) THEN CAST(fsv.spec_detail_id AS VARCHAR)\n        ELSE NULL\n    END, ','), '') AS details\nFROM et_dev_awa_tx.dbo.fleet f\nLEFT JOIN fleet_spec_values fsv ON fsv.fleet_id = f.fleet_id\nLEFT JOIN master_category_details mcd ON mcd.cat_detail_id = fsv.spec_detail_id\nLEFT JOIN master_categories mc ON mc.cat_id = mcd.cat_id\nWHERE f.object_id = @object_id\nGROUP BY\n    f.object_id,\n    f.is_technical,\n    f.is_washed,\n    f.milage,\n    f.milage_type,\n    f.chassis_number,\n    f.motor_no,\n    f.no_of_keys,\n    f.ownership,\n    f.en_ownership,\n    f.category_id,\n    f.sub_category_id,\n    f.target_selling_price,\n    f.location,\n    f.country_origin,\n    f.year_of_making,\n    f.no_of_doors,\n    f.no_of_cylinders,\n    f.colors,\n    f.transmission_type,\n    f.fuel,\n    f.horse_power;&quot;,&quot;overloadPosition&quot;:0,&quot;serviceInput&quot;:[{&quot;type&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;object_id&quot;,&quot;inoutType&quot;:0,&quot;sqlDataType&quot;:0,&quot;ordinalPosition&quot;:0,&quot;paramClass&quot;:&quot;com.kony.rdbms.metadata.model.ParamTypeData&quot;}],&quot;serviceOutput&quot;:[],&quot;name&quot;:&quot;CustomQuery&quot;,&quot;schemaName&quot;:&quot;dbo&quot;,&quot;serviceType&quot;:&quot;com.kony.rdbms.metadata.model.CustomQueryMetadata&quot;}"/>
        <config-param api-version="" appid="" name="metadataformatterobject" value="{&quot;overloadPosition&quot;:0,&quot;serviceType&quot;:&quot;com.kony.rdbms.metadata.model.CustomQueryMetadata&quot;,&quot;dml&quot;:false,&quot;serviceOutput&quot;:[],&quot;displayName&quot;:&quot;CustomQuery&quot;,&quot;qualifiedName&quot;:&quot;dbo_CustomQuery&quot;,&quot;pkgName&quot;:&quot;&quot;,&quot;serviceInput&quot;:[],&quot;name&quot;:&quot;CustomQuery&quot;,&quot;schemaName&quot;:&quot;dbo&quot;,&quot;qualifiedNameSuffix&quot;:&quot;&quot;}"/>
        <config-param api-version="" appid="" name="isCustomQuery" value="true"/>
        <config-param api-version="" appid="" name="customQuery" value="SELECT&#10;    ISNULL(f.object_id, '') AS object_id,&#10;    ISNULL(f.is_technical, '') AS is_technical,&#10;    ISNULL(f.is_washed, '') AS is_washed,&#10;    ISNULL(f.milage, '') AS milage,&#10;    ISNULL(f.milage_type, '') AS milage_type,&#10;    ISNULL(f.chassis_number, '') AS chassis_number,&#10;    ISNULL(f.motor_no, '') AS motor_no,&#10;    coalesce(f.no_of_keys, 0) AS no_of_keys,&#10;    ISNULL(f.ownership, '') AS en_ownership_cert,&#10;    ISNULL(f.en_ownership, '') AS ar_ownership_cert,&#10;    coalesce(f.category_id, 0) AS category_id,&#10;    coalesce(f.sub_category_id, 0) AS sub_category_id,&#10;    coalesce(f.target_selling_price, 0) AS target_selling_price,&#10;    coalesce(f.location, 0) AS locations,&#10;    ISNULL(f.country_origin, '') AS country_origin,&#10;    ISNULL(f.year_of_making, '') AS year_of_making,&#10;    ISNULL(f.no_of_doors, '') AS no_of_doors,&#10;    ISNULL(f.no_of_cylinders, '') AS no_of_cylinders,&#10;    ISNULL(f.colors, '') AS colors,&#10;    ISNULL(f.transmission_type, '') AS transmission_type,&#10;    ISNULL(f.fuel, '') AS fuel,&#10;    ISNULL(f.horse_power, '') AS horse_power,&#10;    ISNULL(MAX(CASE WHEN mcd.cat_id = 3 THEN fsv.spec_detail_id END), '') AS body_type,&#10;    ISNULL(MAX(CASE WHEN mcd.cat_id = 23 THEN fsv.spec_detail_id END), '') AS ownership,&#10;    ISNULL(STRING_AGG(CASE&#10;        WHEN mcd.cat_id NOT IN (3, 23) THEN CAST(fsv.spec_detail_id AS VARCHAR)&#10;        ELSE NULL&#10;    END, ','), '') AS details&#10;FROM et_dev_awa_tx.dbo.fleet f&#10;LEFT JOIN fleet_spec_values fsv ON fsv.fleet_id = f.fleet_id&#10;LEFT JOIN master_category_details mcd ON mcd.cat_detail_id = fsv.spec_detail_id&#10;LEFT JOIN master_categories mc ON mc.cat_id = mcd.cat_id&#10;WHERE f.object_id = @object_id&#10;GROUP BY&#10;    f.object_id,&#10;    f.is_technical,&#10;    f.is_washed,&#10;    f.milage,&#10;    f.milage_type,&#10;    f.chassis_number,&#10;    f.motor_no,&#10;    f.no_of_keys,&#10;    f.ownership,&#10;    f.en_ownership,&#10;    f.category_id,&#10;    f.sub_category_id,&#10;    f.target_selling_price,&#10;    f.location,&#10;    f.country_origin,&#10;    f.year_of_making,&#10;    f.no_of_doors,&#10;    f.no_of_cylinders,&#10;    f.colors,&#10;    f.transmission_type,&#10;    f.fuel,&#10;    f.horse_power;"/>
        <config-param api-version="" appid="" name="password" value="et_dev@12"/>
        <config-param api-version="" appid="" name="http_auth_mode" value="none"/>
        <config-param api-version="" appid="" name="advancedSettings" value=""/>
        <config-param api-version="" appid="" name="jdbcUrl" value="jdbc:sqlserver://et-az-dev-sqlmi.3ba814f9a3e7.database.windows.net;databaseName=et_dev_awa_tx;encrypt=true"/>
        <config-param api-version="" appid="" name="jdbcClass" value="com.microsoft.sqlserver.jdbc.SQLServerDriver"/>
        <config-param api-version="" appid="" name="userId" value="et_dev_awa_tx_user"/>
        <config-param api-version="" appid="" name="maxPoolSize" value=""/>
        <config-param api-version="" appid="" name="connectionTimeout" value=""/>
        <config-param api-version="" appid="" name="authservicetype" value="IdentityProvider"/>
        <config-param api-version="" appid="" name="adaptertype" value="CUSTOM"/>
        <config-param api-version="" appid="" name="basepackage" value="com.kony.rdbms"/>
        <config-param api-version="" appid="" name="identityProviderType" value=""/>
        <config-param api-version="" appid="" name="identityProvider" value=""/>
        <config-param api-version="" appid="" name="mapped_to" value="dbo.CustomQuery"/>
    </service-config>
    <service-input passthrough="false" isExtended="false">
        <header datatype="" name="" passthrough="false" isExtended="false">
            <param datatype="string" defaultvalue="" description="" encode="false" format="None" formatvalue="" name="user_token" order="" paramOrder="0" parentOrder="0" sms-name="" src="request" sourcevalue="" srcformatvalue="" target="" targetdatatype="" testvalue="" value="" isExtended="false">
                <accessType></accessType>
            </param>
        </header>
        <param datatype="string" defaultvalue="" description="" encode="true" format="None" formatvalue="" name="object_id" order="" paramOrder="1" parentOrder="-1" passnull="false" sms-name="" src="request" sourcevalue="" srcformatvalue="" target="request" targetdatatype="java.lang.String" testvalue="44E093A7-EE8E-4453-86D2-8D5087FB4343" value="" isExtended="false">
            <accessType></accessType>
        </param>
        <template-param datatype="" defaultvalue="" description="" encode="false" format="" formatvalue="" name="criteria" order="" paramOrder="0" parentOrder="0" sms-name="" src="" sourcevalue="" srcformatvalue="" target="" targetdatatype="" value="" isExtended="false">
            <accessType></accessType>
        </template-param>
    </service-input>
    <service-output passthrough="false" isExtended="false"/>
</service>
